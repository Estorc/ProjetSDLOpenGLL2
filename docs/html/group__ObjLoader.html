<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Claude Chappe&#39; Curse - A C Game: OBJ Loader</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Claude Chappe&#39; Curse - A C Game
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">OBJ Loader</div></div>
</div><!--header-->
<div class="contents">

<p>Functions for loading and managing 3D models from OBJ files.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga91137495694c076b1f1f5212e0b83f67" id="r_ga91137495694c076b1f1f5212e0b83f67"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjLoader.html#ga91137495694c076b1f1f5212e0b83f67">malloc_obj</a> (<a class="el" href="structModelObjectData.html">ModelObjectData</a> *obj, <a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> vim, <a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> fim, <a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> vnim, <a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> vtim)</td></tr>
<tr class="memdesc:ga91137495694c076b1f1f5212e0b83f67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates memory for an <a class="el" href="structModelObjectData.html" title="Structure representing the data of a 3D model object.">ModelObjectData</a>'s vertex, face, normal, and texture data.  <br /></td></tr>
<tr class="separator:ga91137495694c076b1f1f5212e0b83f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea15e76da7fb4c45393b68d2a5d0936e" id="r_gaea15e76da7fb4c45393b68d2a5d0936e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjLoader.html#gaea15e76da7fb4c45393b68d2a5d0936e">create_obj_vao</a> (<a class="el" href="structModelObjectData.html">ModelObjectData</a> *obj)</td></tr>
<tr class="memdesc:gaea15e76da7fb4c45393b68d2a5d0936e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and initializes a Vertex Array <a class="el" href="structObject.html" title="A generic object structure.">Object</a> (VAO) for a given 3D object, including the necessary vertex buffer data.  <br /></td></tr>
<tr class="separator:gaea15e76da7fb4c45393b68d2a5d0936e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4932d6a4b8e09e504d475d464f4d43c" id="r_gab4932d6a4b8e09e504d475d464f4d43c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjLoader.html#gab4932d6a4b8e09e504d475d464f4d43c">close_realloc_obj</a> (<a class="el" href="structModelObjectData.html">ModelObjectData</a> *obj, <a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> vi, <a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> fi, <a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> vni, <a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> vti)</td></tr>
<tr class="memdesc:gab4932d6a4b8e09e504d475d464f4d43c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up and reallocates the memory for the vertex data and faces of a 3D object, and generates the Vertex Array <a class="el" href="structObject.html" title="A generic object structure.">Object</a> (VAO) for rendering.  <br /></td></tr>
<tr class="separator:gab4932d6a4b8e09e504d475d464f4d43c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9a1546acd8b600802264c99c343ba28" id="r_gab9a1546acd8b600802264c99c343ba28"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjLoader.html#gab9a1546acd8b600802264c99c343ba28">load_obj_model</a> (char *path, <a class="el" href="structModelData.html">ModelData</a> **modelPtr)</td></tr>
<tr class="memdesc:gab9a1546acd8b600802264c99c343ba28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a 3D model from an OBJ file, including its associated materials, vertices, normals, and texture coordinates.  <br /></td></tr>
<tr class="separator:gab9a1546acd8b600802264c99c343ba28"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions for loading and managing 3D models from OBJ files. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab4932d6a4b8e09e504d475d464f4d43c" name="gab4932d6a4b8e09e504d475d464f4d43c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab4932d6a4b8e09e504d475d464f4d43c">&#9670;&#160;</a></span>close_realloc_obj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void close_realloc_obj </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structModelObjectData.html">ModelObjectData</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a>&#160;</td>
          <td class="paramname"><em>vi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a>&#160;</td>
          <td class="paramname"><em>fi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a>&#160;</td>
          <td class="paramname"><em>vni</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a>&#160;</td>
          <td class="paramname"><em>vti</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleans up and reallocates the memory for the vertex data and faces of a 3D object, and generates the Vertex Array <a class="el" href="structObject.html" title="A generic object structure.">Object</a> (VAO) for rendering. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>{ModelObjectData*} A pointer to the <a class="el" href="structModelObjectData.html" title="Structure representing the data of a 3D model object.">ModelObjectData</a> structure to be cleaned up and reallocated. </td></tr>
    <tr><td class="paramname">vi</td><td>{u32} The current number of vertices loaded for the object. </td></tr>
    <tr><td class="paramname">fi</td><td>{u32} The current number of faces loaded for the object. </td></tr>
    <tr><td class="paramname">vni</td><td>{u32} The current number of normals loaded for the object. </td></tr>
    <tr><td class="paramname">vti</td><td>{u32} The current number of texture coordinates loaded for the object.</td></tr>
  </table>
  </dd>
</dl>
<p>This function frees the previously allocated memory for normals, texture vertices, and vertex data associated with the given <a class="el" href="structModelObjectData.html" title="Structure representing the data of a 3D model object.">ModelObjectData</a> structure. It then reallocates the facesVertex array to fit the actual number of faces and generates the corresponding Vertex Array <a class="el" href="structObject.html" title="A generic object structure.">Object</a> (VAO) for rendering.</p>
<p>Important Notes:</p><ul>
<li>This function assumes that the <a class="el" href="structModelObjectData.html" title="Structure representing the data of a 3D model object.">ModelObjectData</a> structure has been allocated and initialized properly before calling.</li>
<li>After calling this function, the obj-&gt;facesVertex will point to a reallocated array suitable for the number of faces currently stored.</li>
<li>Any previously allocated memory for normals, texture vertices, and vertex data will be released, preventing memory leaks.</li>
<li>It is the caller's responsibility to ensure that obj is valid and that vi, fi, vni, and vti are correctly provided to reflect the current state of the object.</li>
</ul>
<p>Example Usage: close_realloc_obj(&amp;object, vi, fi, vni, vti); </p>

</div>
</div>
<a id="gaea15e76da7fb4c45393b68d2a5d0936e" name="gaea15e76da7fb4c45393b68d2a5d0936e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea15e76da7fb4c45393b68d2a5d0936e">&#9670;&#160;</a></span>create_obj_vao()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void create_obj_vao </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structModelObjectData.html">ModelObjectData</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and initializes a Vertex Array <a class="el" href="structObject.html" title="A generic object structure.">Object</a> (VAO) for a given 3D object, including the necessary vertex buffer data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>{ModelObjectData*} A pointer to the <a class="el" href="structModelObjectData.html" title="Structure representing the data of a 3D model object.">ModelObjectData</a> structure for which the VAO will be created.</td></tr>
  </table>
  </dd>
</dl>
<p>This function generates a VAO and a Vertex Buffer <a class="el" href="structObject.html" title="A generic object structure.">Object</a> (VBO) for the specified <a class="el" href="structModelObjectData.html" title="Structure representing the data of a 3D model object.">ModelObjectData</a>. It binds the VBO and uploads vertex data, including positions, normals, texture coordinates, tangents, and bitangents, to the GPU. The function also sets up the vertex attribute pointers to describe the layout of the vertex data in the VBO.</p>
<p>Important Notes:</p><ul>
<li>The function assumes that the obj-&gt;facesVertex array has been populated with valid vertex data prior to calling this function.</li>
<li>The VAO generated by this function is stored in the <a class="el" href="structModelObjectData.html" title="Structure representing the data of a 3D model object.">ModelObjectData</a> structure, allowing for easy rendering of the object in subsequent draw calls.</li>
<li>Make sure to bind the VAO when rendering this object to ensure the correct vertex data is used.</li>
</ul>
<p>Example Usage: create_obj_vao(&amp;object); </p>

</div>
</div>
<a id="gab9a1546acd8b600802264c99c343ba28" name="gab9a1546acd8b600802264c99c343ba28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab9a1546acd8b600802264c99c343ba28">&#9670;&#160;</a></span>load_obj_model()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_obj_model </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structModelData.html">ModelData</a> **&#160;</td>
          <td class="paramname"><em>modelPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads a 3D model from an OBJ file, including its associated materials, vertices, normals, and texture coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>{char*} The directory path where the OBJ file is located. </td></tr>
    <tr><td class="paramname">filename</td><td>{char*} The name of the OBJ file to be loaded. </td></tr>
    <tr><td class="paramname">model</td><td>{ModelData*} A pointer to a <a class="el" href="classModel.html" title="Structure representing a 3D model.">Model</a> structure that will be populated with the loaded data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>{int} Returns 0 on success, or -1 if an error occurs during loading.</dd></dl>
<p>This function reads the specified OBJ file and extracts geometric data such as vertices, texture coordinates, normals, and faces. It also handles the associated materials through a corresponding MTL file, updating the <a class="el" href="classModel.html" title="Structure representing a 3D model.">Model</a> structure accordingly. The model is dynamically allocated and resized as necessary to accommodate the loaded data.</p>
<p>Important Notes:</p><ul>
<li>The function relies on external utility functions such as <code>load_mtl</code>, <code>find_material</code>, <code>malloc_obj</code>, and <code>close_realloc_obj</code> for loading materials and managing dynamic memory.</li>
<li>The input OBJ file must follow the standard OBJ format; otherwise, parsing may fail, leading to potential memory leaks if not handled correctly.</li>
<li>Ensure that sufficient memory is available for the model structure and associated objects, as this function dynamically allocates memory for various arrays within the <a class="el" href="classModel.html" title="Structure representing a 3D model.">Model</a> structure.</li>
</ul>
<p>Example Usage: <a class="el" href="structModelData.html" title="Structure representing the data of a 3D model.">ModelData</a> model; if (load_obj_model("assets/models/", "example.obj", &amp;model) == 0) { // Successfully loaded the model } else { // Handle error } </p>

</div>
</div>
<a id="ga91137495694c076b1f1f5212e0b83f67" name="ga91137495694c076b1f1f5212e0b83f67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91137495694c076b1f1f5212e0b83f67">&#9670;&#160;</a></span>malloc_obj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int malloc_obj </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structModelObjectData.html">ModelObjectData</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a>&#160;</td>
          <td class="paramname"><em>vim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a>&#160;</td>
          <td class="paramname"><em>fim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a>&#160;</td>
          <td class="paramname"><em>vnim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a>&#160;</td>
          <td class="paramname"><em>vtim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates memory for an <a class="el" href="structModelObjectData.html" title="Structure representing the data of a 3D model object.">ModelObjectData</a>'s vertex, face, normal, and texture data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>{ModelObjectData*} A pointer to the <a class="el" href="structModelObjectData.html" title="Structure representing the data of a 3D model object.">ModelObjectData</a> structure to be initialized. </td></tr>
    <tr><td class="paramname">vim</td><td>{u32} The initial number of vertices to allocate memory for. </td></tr>
    <tr><td class="paramname">fim</td><td>{u32} The initial number of faces to allocate memory for. </td></tr>
    <tr><td class="paramname">vnim</td><td>{u32} The initial number of normals to allocate memory for. </td></tr>
    <tr><td class="paramname">vtim</td><td>{u32} The initial number of texture coordinates to allocate memory for.</td></tr>
  </table>
  </dd>
</dl>
<p>This function allocates the necessary memory for various data fields in the specified <a class="el" href="structModelObjectData.html" title="Structure representing the data of a 3D model object.">ModelObjectData</a>, including vertices, faces, normals, and texture coordinates. It initializes the materials and materialsLength to NULL and sets the materialsCount to zero.</p>
<p>Important Notes:</p><ul>
<li>The function assumes that <code>obj</code> is a valid pointer to an <a class="el" href="structModelObjectData.html" title="Structure representing the data of a 3D model object.">ModelObjectData</a> structure.</li>
<li>If any memory allocation fails, a pointer check function (POINTER_CHECK) should handle the error, potentially freeing previously allocated memory and terminating the program or logging the error.</li>
</ul>
<p>Example Usage: malloc_obj(&amp;object, initialVertexCount, initialFaceCount, 
            initialNormalCount, initialTextureVertexCount);</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on successful memory allocation. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
