\doxysection{OBJ Loader}
\hypertarget{group__ObjLoader}{}\label{group__ObjLoader}\index{OBJ Loader@{OBJ Loader}}


Functions for loading and managing 3D models from OBJ files.  


\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{group__ObjLoader_ga91137495694c076b1f1f5212e0b83f67}{malloc\+\_\+obj}} (\mbox{\hyperlink{structModelObjectData}{Model\+Object\+Data}} \texorpdfstring{$\ast$}{*}obj, \mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} vim, \mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} fim, \mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} vnim, \mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} vtim)
\begin{DoxyCompactList}\small\item\em Allocates memory for an \doxylink{structModelObjectData}{Model\+Object\+Data}\textquotesingle{}s vertex, face, normal, and texture data. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__ObjLoader_gaea15e76da7fb4c45393b68d2a5d0936e}{create\+\_\+obj\+\_\+vao}} (\mbox{\hyperlink{structModelObjectData}{Model\+Object\+Data}} \texorpdfstring{$\ast$}{*}obj)
\begin{DoxyCompactList}\small\item\em Creates and initializes a Vertex Array \doxylink{structObject}{Object} (VAO) for a given 3D object, including the necessary vertex buffer data. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__ObjLoader_gab4932d6a4b8e09e504d475d464f4d43c}{close\+\_\+realloc\+\_\+obj}} (\mbox{\hyperlink{structModelObjectData}{Model\+Object\+Data}} \texorpdfstring{$\ast$}{*}obj, \mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} vi, \mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} fi, \mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} vni, \mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} vti)
\begin{DoxyCompactList}\small\item\em Cleans up and reallocates the memory for the vertex data and faces of a 3D object, and generates the Vertex Array \doxylink{structObject}{Object} (VAO) for rendering. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__ObjLoader_gab9a1546acd8b600802264c99c343ba28}{load\+\_\+obj\+\_\+model}} (char \texorpdfstring{$\ast$}{*}path, \mbox{\hyperlink{structModelData}{Model\+Data}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}model\+Ptr)
\begin{DoxyCompactList}\small\item\em Loads a 3D model from an OBJ file, including its associated materials, vertices, normals, and texture coordinates. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Functions for loading and managing 3D models from OBJ files. 



\doxysubsection{Function Documentation}
\Hypertarget{group__ObjLoader_gab4932d6a4b8e09e504d475d464f4d43c}\label{group__ObjLoader_gab4932d6a4b8e09e504d475d464f4d43c} 
\index{OBJ Loader@{OBJ Loader}!close\_realloc\_obj@{close\_realloc\_obj}}
\index{close\_realloc\_obj@{close\_realloc\_obj}!OBJ Loader@{OBJ Loader}}
\doxysubsubsection{\texorpdfstring{close\_realloc\_obj()}{close\_realloc\_obj()}}
{\footnotesize\ttfamily void close\+\_\+realloc\+\_\+obj (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structModelObjectData}{Model\+Object\+Data}} \texorpdfstring{$\ast$}{*}}]{obj,  }\item[{\mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{vi,  }\item[{\mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{fi,  }\item[{\mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{vni,  }\item[{\mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{vti }\end{DoxyParamCaption})}



Cleans up and reallocates the memory for the vertex data and faces of a 3D object, and generates the Vertex Array \doxylink{structObject}{Object} (VAO) for rendering. 


\begin{DoxyParams}{Parameters}
{\em obj} & \{Model\+Object\+Data\texorpdfstring{$\ast$}{*}\} A pointer to the \doxylink{structModelObjectData}{Model\+Object\+Data} structure to be cleaned up and reallocated. \\
\hline
{\em vi} & \{u32\} The current number of vertices loaded for the object. \\
\hline
{\em fi} & \{u32\} The current number of faces loaded for the object. \\
\hline
{\em vni} & \{u32\} The current number of normals loaded for the object. \\
\hline
{\em vti} & \{u32\} The current number of texture coordinates loaded for the object.\\
\hline
\end{DoxyParams}
This function frees the previously allocated memory for normals, texture vertices, and vertex data associated with the given \doxylink{structModelObjectData}{Model\+Object\+Data} structure. It then reallocates the faces\+Vertex array to fit the actual number of faces and generates the corresponding Vertex Array \doxylink{structObject}{Object} (VAO) for rendering.

Important Notes\+:
\begin{DoxyItemize}
\item This function assumes that the \doxylink{structModelObjectData}{Model\+Object\+Data} structure has been allocated and initialized properly before calling.
\item After calling this function, the obj-\/\texorpdfstring{$>$}{>}faces\+Vertex will point to a reallocated array suitable for the number of faces currently stored.
\item Any previously allocated memory for normals, texture vertices, and vertex data will be released, preventing memory leaks.
\item It is the caller\textquotesingle{}s responsibility to ensure that obj is valid and that vi, fi, vni, and vti are correctly provided to reflect the current state of the object.
\end{DoxyItemize}

Example Usage\+: close\+\_\+realloc\+\_\+obj(\&object, vi, fi, vni, vti); \Hypertarget{group__ObjLoader_gaea15e76da7fb4c45393b68d2a5d0936e}\label{group__ObjLoader_gaea15e76da7fb4c45393b68d2a5d0936e} 
\index{OBJ Loader@{OBJ Loader}!create\_obj\_vao@{create\_obj\_vao}}
\index{create\_obj\_vao@{create\_obj\_vao}!OBJ Loader@{OBJ Loader}}
\doxysubsubsection{\texorpdfstring{create\_obj\_vao()}{create\_obj\_vao()}}
{\footnotesize\ttfamily void create\+\_\+obj\+\_\+vao (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structModelObjectData}{Model\+Object\+Data}} \texorpdfstring{$\ast$}{*}}]{obj }\end{DoxyParamCaption})}



Creates and initializes a Vertex Array \doxylink{structObject}{Object} (VAO) for a given 3D object, including the necessary vertex buffer data. 


\begin{DoxyParams}{Parameters}
{\em obj} & \{Model\+Object\+Data\texorpdfstring{$\ast$}{*}\} A pointer to the \doxylink{structModelObjectData}{Model\+Object\+Data} structure for which the VAO will be created.\\
\hline
\end{DoxyParams}
This function generates a VAO and a Vertex Buffer \doxylink{structObject}{Object} (VBO) for the specified \doxylink{structModelObjectData}{Model\+Object\+Data}. It binds the VBO and uploads vertex data, including positions, normals, texture coordinates, tangents, and bitangents, to the GPU. The function also sets up the vertex attribute pointers to describe the layout of the vertex data in the VBO.

Important Notes\+:
\begin{DoxyItemize}
\item The function assumes that the obj-\/\texorpdfstring{$>$}{>}faces\+Vertex array has been populated with valid vertex data prior to calling this function.
\item The VAO generated by this function is stored in the \doxylink{structModelObjectData}{Model\+Object\+Data} structure, allowing for easy rendering of the object in subsequent draw calls.
\item Make sure to bind the VAO when rendering this object to ensure the correct vertex data is used.
\end{DoxyItemize}

Example Usage\+: create\+\_\+obj\+\_\+vao(\&object); \Hypertarget{group__ObjLoader_gab9a1546acd8b600802264c99c343ba28}\label{group__ObjLoader_gab9a1546acd8b600802264c99c343ba28} 
\index{OBJ Loader@{OBJ Loader}!load\_obj\_model@{load\_obj\_model}}
\index{load\_obj\_model@{load\_obj\_model}!OBJ Loader@{OBJ Loader}}
\doxysubsubsection{\texorpdfstring{load\_obj\_model()}{load\_obj\_model()}}
{\footnotesize\ttfamily int load\+\_\+obj\+\_\+model (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{path,  }\item[{\mbox{\hyperlink{structModelData}{Model\+Data}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{model\+Ptr }\end{DoxyParamCaption})}



Loads a 3D model from an OBJ file, including its associated materials, vertices, normals, and texture coordinates. 


\begin{DoxyParams}{Parameters}
{\em path} & \{char\texorpdfstring{$\ast$}{*}\} The directory path where the OBJ file is located. \\
\hline
{\em filename} & \{char\texorpdfstring{$\ast$}{*}\} The name of the OBJ file to be loaded. \\
\hline
{\em model} & \{Model\+Data\texorpdfstring{$\ast$}{*}\} A pointer to a \doxylink{classModel}{Model} structure that will be populated with the loaded data.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\{int\} Returns 0 on success, or -\/1 if an error occurs during loading.
\end{DoxyReturn}
This function reads the specified OBJ file and extracts geometric data such as vertices, texture coordinates, normals, and faces. It also handles the associated materials through a corresponding MTL file, updating the \doxylink{classModel}{Model} structure accordingly. The model is dynamically allocated and resized as necessary to accommodate the loaded data.

Important Notes\+:
\begin{DoxyItemize}
\item The function relies on external utility functions such as {\ttfamily load\+\_\+mtl}, {\ttfamily find\+\_\+material}, {\ttfamily malloc\+\_\+obj}, and {\ttfamily close\+\_\+realloc\+\_\+obj} for loading materials and managing dynamic memory.
\item The input OBJ file must follow the standard OBJ format; otherwise, parsing may fail, leading to potential memory leaks if not handled correctly.
\item Ensure that sufficient memory is available for the model structure and associated objects, as this function dynamically allocates memory for various arrays within the \doxylink{classModel}{Model} structure.
\end{DoxyItemize}

Example Usage\+: \doxylink{structModelData}{Model\+Data} model; if (load\+\_\+obj\+\_\+model("{}assets/models/"{}, "{}example.\+obj"{}, \&model) == 0) \{ // Successfully loaded the model \} else \{ // Handle error \} \Hypertarget{group__ObjLoader_ga91137495694c076b1f1f5212e0b83f67}\label{group__ObjLoader_ga91137495694c076b1f1f5212e0b83f67} 
\index{OBJ Loader@{OBJ Loader}!malloc\_obj@{malloc\_obj}}
\index{malloc\_obj@{malloc\_obj}!OBJ Loader@{OBJ Loader}}
\doxysubsubsection{\texorpdfstring{malloc\_obj()}{malloc\_obj()}}
{\footnotesize\ttfamily int malloc\+\_\+obj (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structModelObjectData}{Model\+Object\+Data}} \texorpdfstring{$\ast$}{*}}]{obj,  }\item[{\mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{vim,  }\item[{\mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{fim,  }\item[{\mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{vnim,  }\item[{\mbox{\hyperlink{types_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{vtim }\end{DoxyParamCaption})}



Allocates memory for an \doxylink{structModelObjectData}{Model\+Object\+Data}\textquotesingle{}s vertex, face, normal, and texture data. 


\begin{DoxyParams}{Parameters}
{\em obj} & \{Model\+Object\+Data\texorpdfstring{$\ast$}{*}\} A pointer to the \doxylink{structModelObjectData}{Model\+Object\+Data} structure to be initialized. \\
\hline
{\em vim} & \{u32\} The initial number of vertices to allocate memory for. \\
\hline
{\em fim} & \{u32\} The initial number of faces to allocate memory for. \\
\hline
{\em vnim} & \{u32\} The initial number of normals to allocate memory for. \\
\hline
{\em vtim} & \{u32\} The initial number of texture coordinates to allocate memory for.\\
\hline
\end{DoxyParams}
This function allocates the necessary memory for various data fields in the specified \doxylink{structModelObjectData}{Model\+Object\+Data}, including vertices, faces, normals, and texture coordinates. It initializes the materials and materials\+Length to NULL and sets the materials\+Count to zero.

Important Notes\+:
\begin{DoxyItemize}
\item The function assumes that {\ttfamily obj} is a valid pointer to an \doxylink{structModelObjectData}{Model\+Object\+Data} structure.
\item If any memory allocation fails, a pointer check function (POINTER\+\_\+\+CHECK) should handle the error, potentially freeing previously allocated memory and terminating the program or logging the error.
\end{DoxyItemize}

Example Usage\+: malloc\+\_\+obj(\&object, initial\+Vertex\+Count, initial\+Face\+Count,              initial\+Normal\+Count, initial\+Texture\+Vertex\+Count);

\begin{DoxyReturn}{Returns}
Returns 0 on successful memory allocation. 
\end{DoxyReturn}
