\doxysection{OBJ Loader}
\hypertarget{group__ObjLoader}{}\label{group__ObjLoader}\index{OBJ Loader@{OBJ Loader}}


Functions for loading and managing 3D models from OBJ files.  


\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structFace}{Face}}
\begin{DoxyCompactList}\small\item\em Structure representing a face of a 3D model. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structLoadingModelBuffer}{Loading\+Model\+Buffer}}
\begin{DoxyCompactList}\small\item\em Structure to hold the data of a 3D model being loaded. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__ObjLoader_ga505a07845a4c8d45ba2013e9760bd7f0}{MAX\+\_\+\+VERTEX\+\_\+\+PER\+\_\+\+FACE}}~10
\begin{DoxyCompactList}\small\item\em Maximum number of vertices per face. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{group__ObjLoader_ga5a4ede319c6c281e805f900f33a7451b}{malloc\+\_\+obj}} (\mbox{\hyperlink{structModelObjectData}{Model\+Object\+Data}} \texorpdfstring{$\ast$}{*}obj, \mbox{\hyperlink{structLoadingModelBuffer}{Loading\+Model\+Buffer}} \texorpdfstring{$\ast$}{*}buffer, \mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} vim, \mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} fim, \mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} vnim, \mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} vtim)
\begin{DoxyCompactList}\small\item\em Allocates memory for an \doxylink{structModelObjectData}{Model\+Object\+Data}\textquotesingle{}s vertex, face, normal, and texture data. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__ObjLoader_ga183823564439c36d87aac604a9063c59}{close\+\_\+realloc\+\_\+obj}} (\mbox{\hyperlink{structModelObjectData}{Model\+Object\+Data}} \texorpdfstring{$\ast$}{*}obj, \mbox{\hyperlink{structLoadingModelBuffer}{Loading\+Model\+Buffer}} \texorpdfstring{$\ast$}{*}buffer, \mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} vi, \mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} fi, \mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} vni, \mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}} vti)
\begin{DoxyCompactList}\small\item\em Cleans up and reallocates the memory for the vertex data and faces of a 3D object, and generates the Vertex Array \doxylink{structObject}{Object} (VAO) for rendering. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__ObjLoader_gad1c67a7fd502c28832fa5cf248696814}{load\+\_\+obj\+\_\+model}} (const char \texorpdfstring{$\ast$}{*}path, \mbox{\hyperlink{structModelData}{Model\+Data}} \texorpdfstring{$\ast$}{*}model\+Ptr)
\begin{DoxyCompactList}\small\item\em Loads a 3D model from an OBJ file, including its associated materials, vertices, normals, and texture coordinates. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{group__ModelHandling_ga1351e71110272ccf5e8d661017498adb}{Vertex}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__ObjLoader_gafc912d1d97150df207e760397f3fe904}{Loading\+Model\+Buffer\+::vertex}}
\item 
\mbox{\hyperlink{aliases_8h_abb5b863a4c7a7cc7d18a288c908b9f0b}{Normal}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__ObjLoader_ga6fa9ea9ae14a33791794d1c08623700c}{Loading\+Model\+Buffer\+::normals}}
\item 
\mbox{\hyperlink{aliases_8h_a035e3505138fdf49eb7ebdcfc5d5a1fc}{Texture\+Vertex}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__ObjLoader_gaeed6db10e83cce4380799b56f2456679}{Loading\+Model\+Buffer\+::texture\+Vertex}}
\item 
\mbox{\hyperlink{structFace}{Face}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__ObjLoader_ga04baf96cf7a8c449f068e7bc387ad9bc}{Loading\+Model\+Buffer\+::faces}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Functions for loading and managing 3D models from OBJ files. 



\doxysubsection{Macro Definition Documentation}
\Hypertarget{group__ObjLoader_ga505a07845a4c8d45ba2013e9760bd7f0}\label{group__ObjLoader_ga505a07845a4c8d45ba2013e9760bd7f0} 
\index{OBJ Loader@{OBJ Loader}!MAX\_VERTEX\_PER\_FACE@{MAX\_VERTEX\_PER\_FACE}}
\index{MAX\_VERTEX\_PER\_FACE@{MAX\_VERTEX\_PER\_FACE}!OBJ Loader@{OBJ Loader}}
\doxysubsubsection{\texorpdfstring{MAX\_VERTEX\_PER\_FACE}{MAX\_VERTEX\_PER\_FACE}}
{\footnotesize\ttfamily \#define MAX\+\_\+\+VERTEX\+\_\+\+PER\+\_\+\+FACE~10}



Maximum number of vertices per face. 



\doxysubsection{Function Documentation}
\Hypertarget{group__ObjLoader_ga5a4ede319c6c281e805f900f33a7451b}\label{group__ObjLoader_ga5a4ede319c6c281e805f900f33a7451b} 
\index{OBJ Loader@{OBJ Loader}!malloc\_obj@{malloc\_obj}}
\index{malloc\_obj@{malloc\_obj}!OBJ Loader@{OBJ Loader}}
\doxysubsubsection{\texorpdfstring{malloc\_obj()}{malloc\_obj()}}
{\footnotesize\ttfamily int malloc\+\_\+obj (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structModelObjectData}{Model\+Object\+Data}} \texorpdfstring{$\ast$}{*}}]{obj,  }\item[{\mbox{\hyperlink{structLoadingModelBuffer}{Loading\+Model\+Buffer}} \texorpdfstring{$\ast$}{*}}]{buffer,  }\item[{\mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{vim,  }\item[{\mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{fim,  }\item[{\mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{vnim,  }\item[{\mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{vtim }\end{DoxyParamCaption})}



Allocates memory for an \doxylink{structModelObjectData}{Model\+Object\+Data}\textquotesingle{}s vertex, face, normal, and texture data. 


\begin{DoxyParams}{Parameters}
{\em obj} & \{Model\+Object\+Data\texorpdfstring{$\ast$}{*}\} A pointer to the \doxylink{structModelObjectData}{Model\+Object\+Data} structure to be initialized. \\
\hline
{\em vim} & \{u32\} The initial number of vertices to allocate memory for. \\
\hline
{\em fim} & \{u32\} The initial number of faces to allocate memory for. \\
\hline
{\em vnim} & \{u32\} The initial number of normals to allocate memory for. \\
\hline
{\em vtim} & \{u32\} The initial number of texture coordinates to allocate memory for.\\
\hline
\end{DoxyParams}
This function allocates the necessary memory for various data fields in the specified \doxylink{structModelObjectData}{Model\+Object\+Data}, including vertices, faces, normals, and texture coordinates. It initializes the materials and materials\+Length to NULL and sets the materials\+Count to zero.

Important Notes\+:
\begin{DoxyItemize}
\item The function assumes that {\ttfamily obj} is a valid pointer to an \doxylink{structModelObjectData}{Model\+Object\+Data} structure.
\item If any memory allocation fails, a pointer check function (POINTER\+\_\+\+CHECK) should handle the error, potentially freeing previously allocated memory and terminating the program or logging the error.
\end{DoxyItemize}

Example Usage\+: malloc\+\_\+obj(\&object, initial\+Vertex\+Count, initial\+Face\+Count,              initial\+Normal\+Count, initial\+Texture\+Vertex\+Count);

\begin{DoxyReturn}{Returns}
Returns 0 on successful memory allocation. 
\end{DoxyReturn}
\Hypertarget{group__ObjLoader_ga183823564439c36d87aac604a9063c59}\label{group__ObjLoader_ga183823564439c36d87aac604a9063c59} 
\index{OBJ Loader@{OBJ Loader}!close\_realloc\_obj@{close\_realloc\_obj}}
\index{close\_realloc\_obj@{close\_realloc\_obj}!OBJ Loader@{OBJ Loader}}
\doxysubsubsection{\texorpdfstring{close\_realloc\_obj()}{close\_realloc\_obj()}}
{\footnotesize\ttfamily void close\+\_\+realloc\+\_\+obj (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structModelObjectData}{Model\+Object\+Data}} \texorpdfstring{$\ast$}{*}}]{obj,  }\item[{\mbox{\hyperlink{structLoadingModelBuffer}{Loading\+Model\+Buffer}} \texorpdfstring{$\ast$}{*}}]{buffer,  }\item[{\mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{vi,  }\item[{\mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{fi,  }\item[{\mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{vni,  }\item[{\mbox{\hyperlink{aliases_8h_a332ccd83dfe2973e6cb2b61e4f3ab7e6}{u32}}}]{vti }\end{DoxyParamCaption})}



Cleans up and reallocates the memory for the vertex data and faces of a 3D object, and generates the Vertex Array \doxylink{structObject}{Object} (VAO) for rendering. 


\begin{DoxyParams}{Parameters}
{\em obj} & \{Model\+Object\+Data\texorpdfstring{$\ast$}{*}\} A pointer to the \doxylink{structModelObjectData}{Model\+Object\+Data} structure to be cleaned up and reallocated. \\
\hline
{\em vi} & \{u32\} The current number of vertices loaded for the object. \\
\hline
{\em fi} & \{u32\} The current number of faces loaded for the object. \\
\hline
{\em vni} & \{u32\} The current number of normals loaded for the object. \\
\hline
{\em vti} & \{u32\} The current number of texture coordinates loaded for the object.\\
\hline
\end{DoxyParams}
This function frees the previously allocated memory for normals, texture vertices, and vertex data associated with the given \doxylink{structModelObjectData}{Model\+Object\+Data} structure. It then reallocates the faces\+Vertex array to fit the actual number of faces and generates the corresponding Vertex Array \doxylink{structObject}{Object} (VAO) for rendering.

Important Notes\+:
\begin{DoxyItemize}
\item This function assumes that the \doxylink{structModelObjectData}{Model\+Object\+Data} structure has been allocated and initialized properly before calling.
\item After calling this function, the obj-\/\texorpdfstring{$>$}{>}faces\+Vertex will point to a reallocated array suitable for the number of faces currently stored.
\item Any previously allocated memory for normals, texture vertices, and vertex data will be released, preventing memory leaks.
\item It is the caller\textquotesingle{}s responsibility to ensure that obj is valid and that vi, fi, vni, and vti are correctly provided to reflect the current state of the object.
\end{DoxyItemize}

Example Usage\+: close\+\_\+realloc\+\_\+obj(\&object, vi, fi, vni, vti); \Hypertarget{group__ObjLoader_gad1c67a7fd502c28832fa5cf248696814}\label{group__ObjLoader_gad1c67a7fd502c28832fa5cf248696814} 
\index{OBJ Loader@{OBJ Loader}!load\_obj\_model@{load\_obj\_model}}
\index{load\_obj\_model@{load\_obj\_model}!OBJ Loader@{OBJ Loader}}
\doxysubsubsection{\texorpdfstring{load\_obj\_model()}{load\_obj\_model()}}
{\footnotesize\ttfamily int load\+\_\+obj\+\_\+model (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{path,  }\item[{\mbox{\hyperlink{structModelData}{Model\+Data}} \texorpdfstring{$\ast$}{*}}]{model\+Ptr }\end{DoxyParamCaption})}



Loads a 3D model from an OBJ file, including its associated materials, vertices, normals, and texture coordinates. 


\begin{DoxyParams}{Parameters}
{\em path} & \{char\texorpdfstring{$\ast$}{*}\} The directory path where the OBJ file is located. \\
\hline
{\em filename} & \{char\texorpdfstring{$\ast$}{*}\} The name of the OBJ file to be loaded. \\
\hline
{\em model} & \{Model\+Data\texorpdfstring{$\ast$}{*}\} A pointer to a \doxylink{classModel}{Model} structure that will be populated with the loaded data.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\{int\} Returns 0 on success, or -\/1 if an error occurs during loading.
\end{DoxyReturn}
This function reads the specified OBJ file and extracts geometric data such as vertices, texture coordinates, normals, and faces. It also handles the associated materials through a corresponding MTL file, updating the \doxylink{classModel}{Model} structure accordingly. The model is dynamically allocated and resized as necessary to accommodate the loaded data.

Important Notes\+:
\begin{DoxyItemize}
\item The function relies on external utility functions such as {\ttfamily load\+\_\+mtl}, {\ttfamily find\+\_\+material}, {\ttfamily malloc\+\_\+obj}, and {\ttfamily close\+\_\+realloc\+\_\+obj} for loading materials and managing dynamic memory.
\item The input OBJ file must follow the standard OBJ format; otherwise, parsing may fail, leading to potential memory leaks if not handled correctly.
\item Ensure that sufficient memory is available for the model structure and associated objects, as this function dynamically allocates memory for various arrays within the \doxylink{classModel}{Model} structure.
\end{DoxyItemize}

Example Usage\+: \doxylink{structModelData}{Model\+Data} model; if (load\+\_\+obj\+\_\+model("{}assets/models/"{}, "{}example.\+obj"{}, \&model) == 0) \{ // Successfully loaded the model \} else \{ // Handle error \} 

\doxysubsection{Variable Documentation}
\Hypertarget{group__ObjLoader_gafc912d1d97150df207e760397f3fe904}\label{group__ObjLoader_gafc912d1d97150df207e760397f3fe904} 
\index{OBJ Loader@{OBJ Loader}!vertex@{vertex}}
\index{vertex@{vertex}!OBJ Loader@{OBJ Loader}}
\doxysubsubsection{\texorpdfstring{vertex}{vertex}}
{\footnotesize\ttfamily Loading\+Model\+Buffer\+::vertex}

Array of vertices

Array of vertices that define the geometric points of the model. \Hypertarget{group__ObjLoader_ga6fa9ea9ae14a33791794d1c08623700c}\label{group__ObjLoader_ga6fa9ea9ae14a33791794d1c08623700c} 
\index{OBJ Loader@{OBJ Loader}!normals@{normals}}
\index{normals@{normals}!OBJ Loader@{OBJ Loader}}
\doxysubsubsection{\texorpdfstring{normals}{normals}}
{\footnotesize\ttfamily Loading\+Model\+Buffer\+::normals}

Array of normals

Array of normals that define the direction perpendicular to the surface of the model\textquotesingle{}s faces. \Hypertarget{group__ObjLoader_gaeed6db10e83cce4380799b56f2456679}\label{group__ObjLoader_gaeed6db10e83cce4380799b56f2456679} 
\index{OBJ Loader@{OBJ Loader}!textureVertex@{textureVertex}}
\index{textureVertex@{textureVertex}!OBJ Loader@{OBJ Loader}}
\doxysubsubsection{\texorpdfstring{textureVertex}{textureVertex}}
{\footnotesize\ttfamily Loading\+Model\+Buffer\+::texture\+Vertex}

Array of texture vertices

Array of texture vertices that map the 2D texture coordinates to the 3D model. \Hypertarget{group__ObjLoader_ga04baf96cf7a8c449f068e7bc387ad9bc}\label{group__ObjLoader_ga04baf96cf7a8c449f068e7bc387ad9bc} 
\index{OBJ Loader@{OBJ Loader}!faces@{faces}}
\index{faces@{faces}!OBJ Loader@{OBJ Loader}}
\doxysubsubsection{\texorpdfstring{faces}{faces}}
{\footnotesize\ttfamily Loading\+Model\+Buffer\+::faces}

Array of faces

Array of faces that define the polygons of the model, typically triangles or quads. 