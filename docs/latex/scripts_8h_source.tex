\doxysection{scripts.\+h}
\hypertarget{scripts_8h_source}{}\label{scripts_8h_source}\index{src/scripts/scripts.h@{src/scripts/scripts.h}}
\mbox{\hyperlink{scripts_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}../io/input.h"{}}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{signals_8h}{signals.h}}"{}}}
\DoxyCodeLine{00003\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structWindow}{Window}};}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#ifndef\ SCRIPTS\_H}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ SCRIPTS\_H}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#define\ NODE\_FUNC\_PARAMS\ struct\ Node\ *this,\ va\_list\ args}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#define\ NODE\_FUNC\_RETURN\ void}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#define\ GET\_READY\_PARAMETERS()\ float\ delta\ =\ (float)\ GET\_PARAMETER(double);\ (void)\ delta}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#define\ GET\_SIGNAL()\ Signal\ signal\ =\ (Signal)\ GET\_PARAMETER(int);\ (void)\ signal}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#define\ GET\_PARAMETER(type)\ va\_arg(args,\ type)}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#define\ GET\_AREA\_SIGNAL\_PARAMETERS()\ int\ sigId\ =\ GET\_PARAMETER(int);\ Node\ *other\ =\ (Node\ *)\ GET\_PARAMETER(Node\ *);\ float\ distance\ =\ (float)\ GET\_PARAMETER(double);\ float\ *impactPoint\ =\ (float\ *)\ GET\_PARAMETER(float\ *);\ int\ offset\ =\ GET\_PARAMETER(int);\ (void)\ sigId;\ (void)\ other;\ (void)\ distance;\ (void)\ impactPoint;\ (void)\ offset;}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\#define\ MALLOC\_ATTRIBUTE(node,\ x)\ if\ (!node-\/>attribute)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ node-\/>attribute\ =\ malloc(sizeof(BehaviorAttribute)\ *\ x);\ \(\backslash\)}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ POINTER\_CHECK(node-\/>attribute);\ \(\backslash\)}}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ node-\/>attributes\_count\ =\ x;\ \(\backslash\)}}
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ 0;\ i\ <\ x;\ i++)\ memset(\&node-\/>attribute[i],\ 0,\ sizeof(union\ BehaviorAttribute));\ \(\backslash\)}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#define\ SET\_ATTRIBUTES\_COUNT(x)\ MALLOC\_ATTRIBUTE(this,\ x)}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#define\ NEW\_SCRIPT(script\_name)\ NODE\_FUNC\_RETURN\ script\_name(NODE\_FUNC\_PARAMS)\ \{}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#define\ END\_SCRIPT(script\_name)\ \};\ \(\backslash\)}}
\DoxyCodeLine{00077\ \textcolor{preprocessor}{static\ \_\_attribute\_\_((constructor))\ void\ \_\_anon\_ctor\_\#\#script\_name(void)\ \{\(\backslash\)}}
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\ \ \ \ Game.scripts\ =\ realloc(Game.scripts,\ sizeof(Script)\ *\ (\_\_scriptIndex\_\_\ +\ 1));\(\backslash\)}}
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\ \ \ \ Game.scripts[\_\_scriptIndex\_\_].name\ =\ \#script\_name;\(\backslash\)}}
\DoxyCodeLine{00080\ \textcolor{preprocessor}{\ \ \ \ Game.scripts[\_\_scriptIndex\_\_++].script\ =\ script\_name;\(\backslash\)}}
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\ \ \ \ PRINT\_INFO("{}Script\ \%s\ loaded\ in\ \%d!\(\backslash\)n"{},\ \#script\_name,\ \_\_scriptIndex\_\_);\(\backslash\)}}
\DoxyCodeLine{00082\ \textcolor{preprocessor}{\}}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00088\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{union\ }\mbox{\hyperlink{unionBehaviorAttribute}{BehaviorAttribute}}\ \{}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{unionBehaviorAttribute_a3fa7fd6f8165665bcdd85d4ccfc50459}{i}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{unionBehaviorAttribute_a521107d0cc8ac4c6fc011173d1562466}{f}};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{unionBehaviorAttribute_a3ecaf664b66006d185e839fc3e499ddf}{b}};\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{unionBehaviorAttribute_ace6771b71f031624b4fa7345a20dacdc}{p}};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{classNode}{Node}}\ *\mbox{\hyperlink{unionBehaviorAttribute_a50669aec06276310fd491f39a820dd8d}{node}};\ }
\DoxyCodeLine{00094\ \}\ \mbox{\hyperlink{unionBehaviorAttribute}{BehaviorAttribute}};}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00100\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{scripts_8h_afff6ec8df5aac4eac40fa6b6b6550cab}{NODE\_FUNC\_RETURN}}\ (*\mbox{\hyperlink{scripts_8h_a9ecadf256432372682e2216abac9ab04}{ScriptFunc}})(\mbox{\hyperlink{scripts_8h_a974cce8e58a6368403c267f9c3a87735}{NODE\_FUNC\_PARAMS}});}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00106\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structScript}{Script}}\ \{}
\DoxyCodeLine{00107\ \ \ \ \ \mbox{\hyperlink{scripts_8h_a9ecadf256432372682e2216abac9ab04}{ScriptFunc}}\ \mbox{\hyperlink{structScript_a8ebb4084e2de1a387cb1fe527d49e4e7}{script}};\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordtype}{char}\ *\ \mbox{\hyperlink{structScript_a0a0c95e8768aa2b629e06637aeb2876e}{name}};\ \ \ \ \ \ \ }
\DoxyCodeLine{00109\ \}\ \mbox{\hyperlink{structScript}{Script}};}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00115\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{scripts_8h_ac786ca734f29141f39a61d61836f1dce}{BehaviorScripts}}\ \{}
\DoxyCodeLine{00116\ \ \ \ \ \mbox{\hyperlink{scripts_8h_ac786ca734f29141f39a61d61836f1dcea3b3f46718a5654c73ce66a0598b95c3b}{BEHAVIOR\_SCRIPT\_READY}},\ \ }
\DoxyCodeLine{00117\ \ \ \ \ \mbox{\hyperlink{scripts_8h_ac786ca734f29141f39a61d61836f1dceaa83501e0d766b4d51cf23afd35ec5d13}{BEHAVIOR\_SCRIPT\_UPDATE}},\ }
\DoxyCodeLine{00118\ \ \ \ \ \mbox{\hyperlink{scripts_8h_ac786ca734f29141f39a61d61836f1dcea14e2dd7810c43e265390ddd9e51cd337}{BEHAVIOR\_SCRIPT\_SIGNAL}},\ }
\DoxyCodeLine{00119\ \ \ \ \ \mbox{\hyperlink{scripts_8h_ac786ca734f29141f39a61d61836f1dceaf4deb964fef817f01b86d7487ab15d3a}{BEHAVIOR\_SCRIPT\_COUNT}},\ \ }
\DoxyCodeLine{00120\ \}\ \mbox{\hyperlink{scripts_8h_ac786ca734f29141f39a61d61836f1dce}{BehaviorScripts}};}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00126\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{scripts_8h_a9ecadf256432372682e2216abac9ab04}{ScriptFunc}}\ \mbox{\hyperlink{scripts_8h_a73db917e73a3821d62d9869b4196c024}{Behavior}}[\mbox{\hyperlink{scripts_8h_ac786ca734f29141f39a61d61836f1dceaf4deb964fef817f01b86d7487ab15d3a}{BEHAVIOR\_SCRIPT\_COUNT}}];}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00132\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{scripts_8h_a9b505ef7c67a86c3271f2127911d4d89}{\_\_scriptIndex\_\_}};}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SCRIPTS\_H}}

\end{DoxyCode}
